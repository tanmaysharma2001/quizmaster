import{S as Te,i as Se,s as Ue,e as s,k as b,t as S,F as Ae,c as r,d as a,m as g,a as o,h as U,b as e,H as t,g as xe,R,I as X,J as Le,E as Pe,K as Fe,T as Ge}from"../chunks/index-d659e3b3.js";import{b as Me}from"../chunks/paths-1c47712a.js";import{G as Ve,g as Be,o as ze,a as Ke,b as De,c as We}from"../chunks/index-90ebcfae-1b4ca923.js";import"../chunks/index.esm2017-da53403b.js";import{B as qe,V as Ce,w as He}from"../chunks/index.esm2017-58b2c317.js";import{g as Ne,a as Oe}from"../chunks/stores-045169f3.js";import"../chunks/singletons-cdeec3fd.js";import"../chunks/index-8dccaea8.js";const{document:W}=Ge;function Re(w){let v,E,f,h,m,A,d,x,q,F,Q,j,c,_,u,I,i,l,G,M,te,se,L,V,re,ae,y,le,C,z,oe,K,ie,ne,P,de,ce,B,D,J,ue,pe,k,fe,N,he,me,ge;return{c(){v=s("link"),E=s("link"),f=s("link"),h=s("link"),m=s("link"),A=b(),d=s("section"),x=s("div"),q=b(),F=s("div"),Q=b(),j=s("div"),c=s("form"),_=s("div"),u=s("label"),I=S("Email address"),i=b(),l=s("input"),G=b(),M=s("small"),te=S("We'll never share your email with anyone else."),se=b(),L=s("div"),V=s("label"),re=S("Password"),ae=b(),y=s("input"),le=b(),C=s("div"),z=s("p"),oe=S("Forgot password? "),K=s("a"),ie=S("Rest your password!"),ne=b(),P=s("button"),de=S("Login"),ce=b(),B=s("form"),D=s("div"),J=s("h2"),ue=S("Login as Guest"),pe=b(),k=s("input"),fe=b(),N=s("button"),he=S("Play as Guest"),this.h()},l(n){const p=Ae('[data-svelte="svelte-1wt24dl"]',W.head);v=r(p,"LINK",{href:!0,rel:!0,integrity:!0,crossorigin:!0}),E=r(p,"LINK",{rel:!0,href:!0}),f=r(p,"LINK",{rel:!0,href:!0}),h=r(p,"LINK",{href:!0,rel:!0}),m=r(p,"LINK",{href:!0,rel:!0}),p.forEach(a),A=g(n),d=r(n,"SECTION",{class:!0});var H=o(d);x=r(H,"DIV",{class:!0}),o(x).forEach(a),q=g(H),F=r(H,"DIV",{class:!0}),o(F).forEach(a),Q=g(H),j=r(H,"DIV",{class:!0});var Y=o(j);c=r(Y,"FORM",{class:!0});var T=o(c);_=r(T,"DIV",{class:!0});var O=o(_);u=r(O,"LABEL",{for:!0,class:!0});var ve=o(u);I=U(ve,"Email address"),ve.forEach(a),i=g(O),l=r(O,"INPUT",{type:!0,class:!0,id:!0,"aria-describedby":!0,placeholder:!0}),G=g(O),M=r(O,"SMALL",{id:!0,class:!0});var _e=o(M);te=U(_e,"We'll never share your email with anyone else."),_e.forEach(a),O.forEach(a),se=g(T),L=r(T,"DIV",{class:!0});var Z=o(L);V=r(Z,"LABEL",{for:!0,class:!0});var ye=o(V);re=U(ye,"Password"),ye.forEach(a),ae=g(Z),y=r(Z,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),Z.forEach(a),le=g(T),C=r(T,"DIV",{class:!0});var ke=o(C);z=r(ke,"P",{class:!0});var be=o(z);oe=U(be,"Forgot password? "),K=r(be,"A",{href:!0,class:!0});var we=o(K);ie=U(we,"Rest your password!"),we.forEach(a),be.forEach(a),ke.forEach(a),ne=g(T),P=r(T,"BUTTON",{type:!0,class:!0});var Ee=o(P);de=U(Ee,"Login"),Ee.forEach(a),T.forEach(a),ce=g(Y),B=r(Y,"FORM",{class:!0});var $=o(B);D=r($,"DIV",{class:!0});var ee=o(D);J=r(ee,"H2",{});var je=o(J);ue=U(je,"Login as Guest"),je.forEach(a),pe=g(ee),k=r(ee,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),ee.forEach(a),fe=g($),N=r($,"BUTTON",{type:!0,class:!0});var Ie=o(N);he=U(Ie,"Play as Guest"),Ie.forEach(a),$.forEach(a),Y.forEach(a),H.forEach(a),this.h()},h(){W.title="QuizMaster | Login",e(v,"href","https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"),e(v,"rel","stylesheet"),e(v,"integrity","sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"),e(v,"crossorigin","anonymous"),e(E,"rel","preconnect"),e(E,"href","https://fonts.googleapis.com"),e(f,"rel","preconnect"),e(f,"href","https://fonts.gstatic.com"),e(h,"href","https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap"),e(h,"rel","stylesheet"),e(m,"href","https://fonts.googleapis.com/css2?family=Lilita+One&display=swap"),e(m,"rel","stylesheet"),e(x,"class","d1 svelte-12bjbk4"),e(F,"class","d2 svelte-12bjbk4"),e(u,"for","email"),e(u,"class","svelte-12bjbk4"),e(l,"type","email"),e(l,"class","form-control"),e(l,"id","email"),e(l,"aria-describedby","emailHelp"),e(l,"placeholder","Enter email"),e(M,"id","emailHelp"),e(M,"class","form-text text-muted"),e(_,"class","form-group"),e(V,"for","password"),e(V,"class","svelte-12bjbk4"),e(y,"type","password"),e(y,"class","form-control"),e(y,"id","password"),e(y,"placeholder","Password"),e(L,"class","form-group"),e(K,"href",Me+"/forgot-password"),e(K,"class","reset svelte-12bjbk4"),e(z,"class","forgetPass svelte-12bjbk4"),e(C,"class","form-group"),e(P,"type","submit"),e(P,"class","btn btn-primary"),e(c,"class","svelte-12bjbk4"),e(k,"type","text"),e(k,"class","form-control"),e(k,"id","gameid"),e(k,"placeholder","Enter Game ID"),e(D,"class","form-group"),e(N,"type","submit"),e(N,"class","btn btn-primary"),e(B,"class","svelte-12bjbk4"),e(j,"class","login-forms"),e(d,"class","login svelte-12bjbk4")},m(n,p){t(W.head,v),t(W.head,E),t(W.head,f),t(W.head,h),t(W.head,m),xe(n,A,p),xe(n,d,p),t(d,x),t(d,q),t(d,F),t(d,Q),t(d,j),t(j,c),t(c,_),t(_,u),t(u,I),t(_,i),t(_,l),R(l,w[0]),t(_,G),t(_,M),t(M,te),t(c,se),t(c,L),t(L,V),t(V,re),t(L,ae),t(L,y),R(y,w[1]),t(c,le),t(c,C),t(C,z),t(z,oe),t(z,K),t(K,ie),t(c,ne),t(c,P),t(P,de),t(j,ce),t(j,B),t(B,D),t(D,J),t(J,ue),t(D,pe),t(D,k),R(k,w[2]),t(B,fe),t(B,N),t(N,he),me||(ge=[X(l,"input",w[5]),X(y,"input",w[6]),X(P,"click",Le(w[7])),X(k,"input",w[8]),X(N,"click",Le(w[9]))],me=!0)},p(n,[p]){p&1&&l.value!==n[0]&&R(l,n[0]),p&2&&y.value!==n[1]&&R(y,n[1]),p&4&&k.value!==n[2]&&R(k,n[2])},i:Pe,o:Pe,d(n){a(v),a(E),a(f),a(h),a(m),n&&a(A),n&&a(d),me=!1,Fe(ge)}}}function Qe(w,v,E){Ne.subscribe(u=>sessionStorage.gameIDFromBrowser=u),new Ve;let f,h,m;var A;Be();function d(u){var I=Be();ze(I,i=>{if(console.log("changed!"),i)i.uid;else{var l=document.getElementById("login-button");return l.innerHTML="Login",{status:302,redirect:"{base}/login"}}}),u=="login"?Ke(I,f,h).then(async i=>{const l=i.user;localStorage.setItem("uid",l.uid),alert("Signin Successfully. User id: "+l.uid),De("quiz-create")}).catch(i=>{const l=i.code,G=i.message;alert(l+" "+G)}):We(I,f,h).then(i=>{const l=i.user;localStorage.setItem("uid",l.uid),alert("User added successfully!")}).catch(i=>{const l=i.code,G=i.message;alert(l+" "+G)})}let x=[];async function q(){const u=qe(),I=Ce(u,m);x=(await He(I)).docs.map(l=>l.data()),x.length===0?alert("The Game ID doesn't exist!"):(A=prompt("Enter your username: "),Ne.set(m),Oe.set(A),De("quiz"))}function F(){f=this.value,E(0,f)}function Q(){h=this.value,E(1,h)}const j=()=>d("login");function c(){m=this.value,E(2,m)}return[f,h,m,d,q,F,Q,j,c,()=>q()]}class rt extends Te{constructor(v){super(),Se(this,v,Qe,Re,Ue,{})}}export{rt as default};
