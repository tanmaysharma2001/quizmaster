import{S as re,i as ae,s as ue,e as I,k as D,t as B,c as w,a as T,m as A,h as P,d as p,b as c,g as L,H as a,j as W,F as ce,E as Y,X as fe,w as de,x as me,y as he,q as O,o as H,B as ve,f as pe,U as ge,I as $,J as _e,p as ke,K as qe,Z as ee,v as ze,T as be,n as Ie}from"../chunks/index-d659e3b3.js";import{B as te,V as se,w as we,T as ye}from"../chunks/index.esm2017-58b2c317.js";import{g as Ee,o as Ne,b as Te}from"../chunks/index-90ebcfae-1b4ca923.js";import{g as Ce,a as De}from"../chunks/stores-7c2c8f5a.js";import"../chunks/index.esm2017-da53403b.js";import"../chunks/singletons-cdeec3fd.js";import"../chunks/index-8dccaea8.js";function le(l,t,e){const d=l.slice();return d[7]=t[e],d}function oe(l){let t,e,d,z,_,k,n=l[7]+"",m,i;return{c(){t=I("div"),e=I("input"),_=D(),k=I("label"),m=B(n),i=D(),this.h()},l(u){t=w(u,"DIV",{class:!0});var v=T(t);e=w(v,"INPUT",{class:!0,type:!0,name:!0}),_=A(v),k=w(v,"LABEL",{class:!0,for:!0});var N=T(k);m=P(N,n),N.forEach(p),i=A(v),v.forEach(p),this.h()},h(){c(e,"class","inputs form-check-input"),c(e,"type","radio"),c(e,"name",d="question"+l[0]),e.value=z=l[2].indexOf(l[7]),c(k,"class","form-check-label svelte-7ek9rk"),c(k,"for","flexRadioDefault1"),c(t,"class","col-sm-3 svelte-7ek9rk")},m(u,v){L(u,t,v),a(t,e),a(t,_),a(t,k),a(k,m),a(t,i)},p(u,v){v&1&&d!==(d="question"+u[0])&&c(e,"name",d),v&4&&z!==(z=u[2].indexOf(u[7]))&&(e.value=z),v&4&&n!==(n=u[7]+"")&&W(m,n)},d(u){u&&p(t)}}}function Ae(l){let t,e,d,z,_,k,n,m,i,u,v,N=l[2],o=[];for(let s=0;s<N.length;s+=1)o[s]=oe(le(l,N,s));return{c(){t=D(),e=I("section"),d=I("div"),z=D(),_=I("div"),k=D(),n=I("div"),m=I("div"),i=B(l[1]),u=D(),v=I("div");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){ce('[data-svelte="svelte-19pswq8"]',document.head).forEach(p),t=A(s),e=w(s,"SECTION",{class:!0});var r=T(e);d=w(r,"DIV",{class:!0}),T(d).forEach(p),z=A(r),_=w(r,"DIV",{class:!0}),T(_).forEach(p),k=A(r),n=w(r,"DIV",{class:!0});var y=T(n);m=w(y,"DIV",{class:!0,for:!0});var C=T(m);i=P(C,l[1]),C.forEach(p),u=A(y),v=w(y,"DIV",{class:!0});var E=T(v);for(let Q=0;Q<o.length;Q+=1)o[Q].l(E);E.forEach(p),y.forEach(p),r.forEach(p),this.h()},h(){document.title="Question - number",c(d,"class","d1"),c(_,"class","d2"),c(m,"class","question col-12 question-title svelte-7ek9rk"),c(m,"for","questionTitle"),c(v,"class","answers row g-3 options-form col-12 svelte-7ek9rk"),c(n,"class","question-form row svelte-7ek9rk"),c(e,"class","quizPage svelte-7ek9rk")},m(s,f){L(s,t,f),L(s,e,f),a(e,d),a(e,z),a(e,_),a(e,k),a(e,n),a(n,m),a(m,i),a(n,u),a(n,v);for(let r=0;r<o.length;r+=1)o[r].m(v,null)},p(s,[f]){if(f&2&&W(i,s[1]),f&5){N=s[2];let r;for(r=0;r<N.length;r+=1){const y=le(s,N,r);o[r]?o[r].p(y,f):(o[r]=oe(y),o[r].c(),o[r].m(v,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=N.length}},i:Y,o:Y,d(s){s&&p(t),s&&p(e),fe(o,s)}}}function Qe(l,t,e){let{questionNumber:d}=t,{questionTitle:z}=t,{options:_}=t,{type:k}=t,{timeAlotted:n}=t,{correctResponseIndex:m}=t;return l.$$set=i=>{"questionNumber"in i&&e(0,d=i.questionNumber),"questionTitle"in i&&e(1,z=i.questionTitle),"options"in i&&e(2,_=i.options),"type"in i&&e(3,k=i.type),"timeAlotted"in i&&e(4,n=i.timeAlotted),"correctResponseIndex"in i&&e(5,m=i.correctResponseIndex)},[d,z,_,k,n,m]}class Re extends re{constructor(t){super(),ae(this,t,Qe,Ae,ue,{questionNumber:0,questionTitle:1,options:2,type:3,timeAlotted:4,correctResponseIndex:5})}}const{document:V}=be;function ne(l,t,e){const d=l.slice();return d[16]=t[e],d[18]=e,d}function ie(l){let t,e,d,z=Pe+l[18]+"",_,k,n=l[0].length+"",m,i,u,v,N;return u=new Re({props:{questionNumber:l[16].questionNumber,questionTitle:l[16].question,options:l[16].options,type:l[16].type,timeAlotted:l[16].timeAlotted,correctResponseIndex:l[16].correctResponseIndex}}),{c(){t=I("div"),e=I("p"),d=B("Question "),_=B(z),k=B(" out of "),m=B(n),i=D(),de(u.$$.fragment),v=D(),this.h()},l(o){t=w(o,"DIV",{class:!0});var s=T(t);e=w(s,"P",{class:!0});var f=T(e);d=P(f,"Question "),_=P(f,z),k=P(f," out of "),m=P(f,n),f.forEach(p),i=A(s),me(u.$$.fragment,s),v=A(s),s.forEach(p),this.h()},h(){c(e,"class","header svelte-i6z0dc"),c(t,"class","q col-md-8 svelte-i6z0dc")},m(o,s){L(o,t,s),a(t,e),a(e,d),a(e,_),a(e,k),a(e,m),a(t,i),he(u,t,null),a(t,v),N=!0},p(o,s){(!N||s&1)&&n!==(n=o[0].length+"")&&W(m,n);const f={};s&1&&(f.questionNumber=o[16].questionNumber),s&1&&(f.questionTitle=o[16].question),s&1&&(f.options=o[16].options),s&1&&(f.type=o[16].type),s&1&&(f.timeAlotted=o[16].timeAlotted),s&1&&(f.correctResponseIndex=o[16].correctResponseIndex),u.$set(f)},i(o){N||(O(u.$$.fragment,o),N=!0)},o(o){H(u.$$.fragment,o),N=!1},d(o){o&&p(t),ve(u)}}}function Be(l){let t,e,d,z,_,k,n,m,i,u,v,N,o,s,f,r,y,C,E,Q,x,j,F,R=l[0],g=[];for(let h=0;h<R.length;h+=1)g[h]=ie(ne(l,R,h));const K=h=>H(g[h],1,1,()=>{g[h]=null});return{c(){t=I("link"),e=I("link"),d=I("link"),z=I("link"),_=I("link"),k=D(),n=I("section"),m=I("div"),i=I("div"),u=I("p"),v=B("Game ID: "),N=B(l[2]),o=D(),s=I("div"),f=I("p"),r=D(),y=I("div");for(let h=0;h<g.length;h+=1)g[h].c();C=D(),E=I("button"),Q=B("Finish and Show Results"),this.h()},l(h){const b=ce('[data-svelte="svelte-lftf5d"]',V.head);t=w(b,"LINK",{href:!0,rel:!0,integrity:!0,crossorigin:!0}),e=w(b,"LINK",{rel:!0,href:!0}),d=w(b,"LINK",{rel:!0,href:!0}),z=w(b,"LINK",{href:!0,rel:!0}),_=w(b,"LINK",{href:!0,rel:!0}),b.forEach(p),k=A(h),n=w(h,"SECTION",{class:!0});var q=T(n);m=w(q,"DIV",{class:!0});var S=T(m);i=w(S,"DIV",{class:!0});var G=T(i);u=w(G,"P",{});var U=T(u);v=P(U,"Game ID: "),N=P(U,l[2]),U.forEach(p),G.forEach(p),o=A(S),s=w(S,"DIV",{class:!0});var X=T(s);f=w(X,"P",{contenteditable:!0,id:!0,style:!0}),T(f).forEach(p),X.forEach(p),S.forEach(p),r=A(q),y=w(q,"DIV",{id:!0,class:!0});var Z=T(y);for(let M=0;M<g.length;M+=1)g[M].l(Z);Z.forEach(p),C=A(q),E=w(q,"BUTTON",{class:!0});var J=T(E);Q=P(J,"Finish and Show Results"),J.forEach(p),q.forEach(p),this.h()},h(){V.title="Quiz Page",c(t,"href","https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"),c(t,"rel","stylesheet"),c(t,"integrity","sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"),c(t,"crossorigin","anonymous"),c(e,"rel","preconnect"),c(e,"href","https://fonts.googleapis.com"),c(d,"rel","preconnect"),c(d,"href","https://fonts.gstatic.com"),c(z,"href","https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap"),c(z,"rel","stylesheet"),c(_,"href","https://fonts.googleapis.com/css2?family=Lilita+One&display=swap"),c(_,"rel","stylesheet"),c(i,"class","col-6"),c(f,"contenteditable","true"),c(f,"id","timer"),pe(f,"text-align","right"),l[1]===void 0&&ge(()=>l[4].call(f)),c(s,"class","col-6"),c(m,"class","row justify-content-between quizHeader svelte-i6z0dc"),c(y,"id","quiz"),c(y,"class","quiz svelte-i6z0dc"),c(E,"class","result-button btn btn-primary svelte-i6z0dc"),c(n,"class","CreateQuizzes svelte-i6z0dc")},m(h,b){a(V.head,t),a(V.head,e),a(V.head,d),a(V.head,z),a(V.head,_),L(h,k,b),L(h,n,b),a(n,m),a(m,i),a(i,u),a(u,v),a(u,N),a(m,o),a(m,s),a(s,f),l[1]!==void 0&&(f.textContent=l[1]),a(n,r),a(n,y);for(let q=0;q<g.length;q+=1)g[q].m(y,null);a(n,C),a(n,E),a(E,Q),x=!0,j||(F=[$(f,"input",l[4]),$(E,"click",_e(l[3]))],j=!0)},p(h,[b]){if(b&2&&h[1]!==f.textContent&&(f.textContent=h[1]),b&1){R=h[0];let q;for(q=0;q<R.length;q+=1){const S=ne(h,R,q);g[q]?(g[q].p(S,b),O(g[q],1)):(g[q]=ie(S),g[q].c(),O(g[q],1),g[q].m(y,null))}for(Ie(),q=R.length;q<g.length;q+=1)K(q);ke()}},i(h){if(!x){for(let b=0;b<R.length;b+=1)O(g[b]);x=!0}},o(h){g=g.filter(Boolean);for(let b=0;b<g.length;b+=1)H(g[b]);x=!1},d(h){p(t),p(e),p(d),p(z),p(_),h&&p(k),h&&p(n),fe(g,h),j=!1,qe(F)}}}let Pe=1;function Se(l,t,e){let d,z;ee(l,Ce,r=>e(8,d=r)),ee(l,De,r=>e(9,z=r));const _=Ee(),k=_.currentUser;let n;k!==null?n=k.email:n=z,Ne(_,r=>{if(console.log("changed!"),r){r.uid;var y=document.getElementById("login-button");y.innerHTML="Sign Out"}else return{status:302,redirect:"/login"}});let m=d,i=0,u=[],v=[],N=[];ze(async()=>{const r=te(),y=se(r,m),C=await we(y);e(0,u=C.docs.map(E=>E.data()));for(let E=0;E<u.length;E++)v.push(u[E].correctResponseIndex),N.push(u[E].timeAlotted)});async function o(r){let C=document.getElementById("quiz").querySelectorAll(".answers"),E=0,Q=0;for(let g=0;g<v.length;g++){let K=C[g].querySelectorAll(".inputs");for(let h=0;h<K.length;h++){let b=K[h];b.checked&&(E=parseInt(b.value)+1)}if(E==v[g])Q++;else continue}let x=Q;const j=te();let F="results"+m;const R=se(j,F);await ye(R,{userEmail:n,userScore:x}),localStorage.setItem("resultsID",F),Te("result")}let s="";setTimeout(()=>{for(let C=0;C<u.length;C++)i+=Number(u[C].timeAlotted)*60;setInterval(y,1e3);function r(){let C=Math.floor(i/60),E=i%60;return C+":"+E}function y(){i==-1?clearTimeout(i):(e(1,s="Time Remaining: "+r()),i--)}},3e3);function f(){s=this.textContent,e(1,s)}return[u,s,m,o,f]}class Ue extends re{constructor(t){super(),ae(this,t,Se,Be,ue,{})}}export{Ue as default};
